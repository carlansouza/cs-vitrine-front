{"ast":null,"code":"import { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/car.service\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../pipe/order.pipe\";\nfunction DashboardComponent_tr_61_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14, \"imagem\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 23)(16, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_tr_61_Template_button_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const carro_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.preencherFormulario(carro_r1));\n    });\n    i0.ɵɵtext(17, \"Editar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_tr_61_Template_button_click_18_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const carro_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.deletarCarro(carro_r1.id));\n    });\n    i0.ɵɵtext(19, \"Deletar\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const carro_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(carro_r1.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(carro_r1.nome);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(carro_r1.marca);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(carro_r1.modelo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(carro_r1.preco);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(carro_r1.d_alt);\n  }\n}\nexport class DashboardComponent {\n  constructor(carService, httpClient) {\n    this.carService = carService;\n    this.httpClient = httpClient;\n    this.carros$ = [];\n    this.url = `${environment.api}/carros`;\n    this.carro = {\n      id: 0,\n      nome: '',\n      marca: '',\n      modelo: '',\n      preco: 0,\n      imagem: '',\n      d_alt: ''\n    };\n  }\n  ngOnInit() {\n    this.carService.obterCarros().subscribe(carros => {\n      this.carros$ = carros;\n    });\n  }\n  cadastrarCarro(car) {\n    return this.httpClient.post(this.url, car);\n  }\n  deletarCarro(id) {\n    this.carService.deletarCarro(id).subscribe(_ => this.obterCarros());\n    //console.log('Carro deletado com sucesso!');\n    window.location.reload();\n  }\n  atualizarCarro(car) {\n    return this.httpClient.put(`${this.url}/${car.id}`, car);\n  }\n  obterCarros() {\n    return this.httpClient.get(this.url);\n  }\n  buttonClick() {\n    if (!this.carro.nome || !this.carro.marca || !this.carro.modelo || !this.carro.preco || !this.carro.d_alt) {\n      console.log('Preencha todos os campos!');\n      return;\n    }\n    if (this.carro.id) {\n      this.atualizarId();\n      this.limparFormulario();\n      return;\n    }\n    incrementarId();\n    this.carService.cadastrarCarro(this.carro).subscribe(_ => this.obterCarros());\n    window.location.reload();\n  }\n  atualizarId() {\n    this.carService.atualizarCarro(this.carro).subscribe(_ => this.obterCarros());\n  }\n  preencherFormulario(car) {\n    this.carro = car;\n  }\n  limparFormulario() {\n    this.carro = {\n      id: 0,\n      nome: '',\n      marca: '',\n      modelo: '',\n      preco: 0,\n      imagem: '',\n      d_alt: ''\n    };\n  }\n  incrementarId() {\n    this.carro.id++;\n  }\n  static #_ = this.ɵfac = function DashboardComponent_Factory(t) {\n    return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.CarService), i0.ɵɵdirectiveInject(i2.HttpClient));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DashboardComponent,\n    selectors: [[\"app-dashboard\"]],\n    decls: 63,\n    vars: 10,\n    consts: [[1, \"container\", \"mt-5\", \"mb-5\"], [1, \"text-center\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [1, \"\"], [1, \"row\"], [1, \"mb-3\", \"col-6\"], [\"for\", \"nome\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"nome\", \"name\", \"nome\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"marca\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"marca\", \"name\", \"marca\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"modelo\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"modelo\", \"name\", \"modelo\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"preco\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"preco\", \"name\", \"preco\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"descricao\", 1, \"form-label\"], [\"id\", \"descricao\", \"name\", \"descricao\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"imagem\", 1, \"form-label\"], [\"type\", \"file\", \"id\", \"imagem\", \"name\", \"imagem\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"table\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"justify-content-around\"], [1, \"btn\", \"btn-primary\", \"btn-sm\", 3, \"click\"], [1, \"btn\", \"btn-danger\", \"btn-sm\", 3, \"click\"]],\n    template: function DashboardComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\")(2, \"h1\", 1);\n        i0.ɵɵtext(3, \"Painel de Controle\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"div\")(5, \"div\", 2)(6, \"div\", 3)(7, \"h3\");\n        i0.ɵɵtext(8, \"Meus Veiculos\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"div\", 4)(10, \"div\", 5)(11, \"div\", 5)(12, \"div\", 4)(13, \"form\")(14, \"div\", 6)(15, \"div\", 7)(16, \"label\", 8);\n        i0.ɵɵtext(17, \"Nome\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function DashboardComponent_Template_input_ngModelChange_18_listener($event) {\n          return ctx.carro.nome = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(19, \"div\", 7)(20, \"label\", 10);\n        i0.ɵɵtext(21, \"Marca\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"input\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function DashboardComponent_Template_input_ngModelChange_22_listener($event) {\n          return ctx.carro.marca = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(23, \"div\", 6)(24, \"div\", 7)(25, \"label\", 12);\n        i0.ɵɵtext(26, \"Modelo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"input\", 13);\n        i0.ɵɵlistener(\"ngModelChange\", function DashboardComponent_Template_input_ngModelChange_27_listener($event) {\n          return ctx.carro.modelo = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(28, \"div\", 7)(29, \"label\", 14);\n        i0.ɵɵtext(30, \"Pre\\u00E7o\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"input\", 15);\n        i0.ɵɵlistener(\"ngModelChange\", function DashboardComponent_Template_input_ngModelChange_31_listener($event) {\n          return ctx.carro.preco = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(32, \"div\", 6)(33, \"div\", 7)(34, \"label\", 16);\n        i0.ɵɵtext(35, \"Descri\\u00E7\\u00E3o\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"textarea\", 17);\n        i0.ɵɵlistener(\"ngModelChange\", function DashboardComponent_Template_textarea_ngModelChange_36_listener($event) {\n          return ctx.carro.d_alt = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(37, \"div\", 7)(38, \"label\", 18);\n        i0.ɵɵtext(39, \"Imagem\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"input\", 19);\n        i0.ɵɵlistener(\"ngModelChange\", function DashboardComponent_Template_input_ngModelChange_40_listener($event) {\n          return ctx.carro.imagem = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(41, \"button\", 20);\n        i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_41_listener() {\n          return ctx.buttonClick();\n        });\n        i0.ɵɵtext(42, \"Adicionar Carro\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(43, \"table\", 21)(44, \"thead\")(45, \"tr\")(46, \"th\");\n        i0.ɵɵtext(47, \"Id\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"th\");\n        i0.ɵɵtext(49, \"Nome\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"th\");\n        i0.ɵɵtext(51, \"Marca\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(52, \"th\");\n        i0.ɵɵtext(53, \"Modelo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(54, \"th\");\n        i0.ɵɵtext(55, \"Pre\\u00E7o\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(56, \"th\");\n        i0.ɵɵtext(57, \"Descri\\u00E7\\u00E3o\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(58, \"th\");\n        i0.ɵɵtext(59, \"Imagem\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(60, \"tbody\");\n        i0.ɵɵtemplate(61, DashboardComponent_tr_61_Template, 20, 6, \"tr\", 22);\n        i0.ɵɵpipe(62, \"orderPreco\");\n        i0.ɵɵelementEnd()()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(18);\n        i0.ɵɵproperty(\"ngModel\", ctx.carro.nome);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.carro.marca);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.carro.modelo);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.carro.preco);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.carro.d_alt);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.carro.imagem);\n        i0.ɵɵadvance(21);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(62, 7, ctx.carros$, \"preco\"));\n      }\n    },\n    dependencies: [i3.NgForOf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm, i5.OrderPipePreco],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["environment","i0","DashboardComponent","constructor","carService","httpClient","api","id","nome","marca","modelo","preco","imagem","d_alt","ngOnInit","obterCarros","subscribe","carros","carros$","cadastrarCarro","car","post","url","deletarCarro","_","window","location","reload","atualizarCarro","put","get","buttonClick","carro","console","log","atualizarId","limparFormulario","incrementarId","preencherFormulario","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Jaqueline\\Desktop\\CS CARMOTORS\\cscar\\src\\app\\dashboard\\dashboard.component.ts","C:\\Users\\Jaqueline\\Desktop\\CS CARMOTORS\\cscar\\src\\app\\dashboard\\dashboard.component.html"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Component } from '@angular/core';\nimport { CarService } from 'src/app/services/car.service';\nimport { environment } from 'src/environments/environment';\nimport { Car, CarCadastro } from 'src/app/models/car.model';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.scss']\n})\nexport class DashboardComponent {\n\n  carros$: any[] = [];\n\n  url = `${environment.api}/carros`;\n\n  carro: Car = {\n    id: 0,\n    nome: '',\n    marca: '',\n    modelo: '',\n    preco: 0,\n    imagem: '',\n    d_alt: ''\n  };\n\n  constructor(\n    private carService: CarService,\n    private httpClient: HttpClient\n    ) { }\n\n  ngOnInit(): void {\n    this.carService.obterCarros().subscribe((carros) => {\n      this.carros$ = carros;\n    });\n\n  }\n\n  cadastrarCarro(car: CarCadastro) {\n    return this.httpClient.post<Car>(this.url, car);\n  }\n\n  deletarCarro(id: number) {\n    this.carService.deletarCarro(id).subscribe(_ => this.obterCarros());\n    //console.log('Carro deletado com sucesso!');\n    window.location.reload();\n\n  }\n\n  atualizarCarro(car: Car) {\n    return this.httpClient.put<Car>(`${this.url}/${car.id}`, car);\n  }\n\n  obterCarros() {\n    return this.httpClient.get<Car[]>(this.url);\n  }\n\n  buttonClick(){\n    if (!this.carro.nome || !this.carro.marca || !this.carro.modelo ||\n        !this.carro.    preco || !this.carro.d_alt) {\n      console.log('Preencha todos os campos!');\n      return;\n    }\n\n    if (this.carro.id) {\n      this.atualizarId();\n      this.limparFormulario();\n      return;\n    }\n\n    incrementarId()\n\n    this.carService.cadastrarCarro(this.carro).subscribe(_ => this.obterCarros());\n    window.location.reload();\n  }\n\n  atualizarId(){\n    this.carService.atualizarCarro(this.carro).subscribe(_ => this.obterCarros());\n  }\n\n  preencherFormulario(car: Car) {\n    this.carro = car;\n  }\n\n  limparFormulario() {\n    this.carro = {\n      id: 0,\n      nome: '',\n      marca: '',\n      modelo: '',\n      preco: 0,\n      imagem: '',\n      d_alt: ''\n    };\n  }\n\n  incrementarId() {\n    this.carro.id++;\n  }\n\n\n}\n","<div class=\"container mt-5 mb-5\">\n  <div>\n    <h1 class=\"text-center\">Painel de Controle</h1>\n  </div>\n  <!-- CRUD CARROS -->\n  <div>\n    <!-- CRUD operations go here -->\n    <div class=\"card\">\n      <div class=\"card-header\">\n        <h3>Meus Veiculos</h3>\n      </div>\n      <div class=\"card-body\">\n        <div class=\"\">\n          <div class=\"\">\n            <div class=\"card-body\">\n              <form>\n                <div class=\"row\">\n                  <div class=\"mb-3 col-6\">\n                    <label for=\"nome\" class=\"form-label\">Nome</label>\n                    <input type=\"text\" class=\"form-control\" id=\"nome\" name=\"nome\" [(ngModel)]=\"carro.nome\">\n                  </div>\n                  <div class=\"mb-3 col-6\">\n                    <label for=\"marca\" class=\"form-label\">Marca</label>\n                    <input type=\"text\" class=\"form-control\" id=\"marca\" name=\"marca\" [(ngModel)]=\"carro.marca\">\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <div class=\"mb-3 col-6\">\n                    <label for=\"modelo\" class=\"form-label\">Modelo</label>\n                    <input type=\"text\" class=\"form-control\" id=\"modelo\" name=\"modelo\" [(ngModel)]=\"carro.modelo\">\n                  </div>\n                  <div class=\"mb-3 col-6\">\n                    <label for=\"preco\" class=\"form-label\">Preço</label>\n                    <input type=\"text\" class=\"form-control\" id=\"preco\" name=\"preco\" [(ngModel)]=\"carro.preco\">\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <div class=\"mb-3 col-6\">\n                    <label for=\"descricao\" class=\"form-label\">Descrição</label>\n                    <textarea class=\"form-control\" id=\"descricao\" name=\"descricao\" [(ngModel)]=\"carro.d_alt\"></textarea>\n                  </div>\n                  <div class=\"mb-3 col-6\">\n                    <label for=\"imagem\" class=\"form-label\">Imagem</label>\n                    <input type=\"file\" class=\"form-control\" id=\"imagem\" name=\"imagem\" [(ngModel)]=\"carro.imagem\">\n                  </div>\n                  <button class=\"btn btn-success\" (click)=\"buttonClick()\">Adicionar Carro</button>\n                </div>\n              </form>\n          </div>\n        </div>\n        <table class=\"table table-striped\">\n          <thead>\n            <tr>\n              <th>Id</th>\n              <th>Nome</th>\n              <th>Marca</th>\n              <th>Modelo</th>\n              <th>Preço</th>\n              <th>Descrição</th>\n              <th>Imagem</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr *ngFor=\"let carro of carros$ | orderPreco: 'preco'\">\n              <td>{{carro.id}}</td>\n              <td>{{carro.nome}}</td>\n              <td>{{carro.marca}}</td>\n              <td>{{carro.modelo}}</td>\n              <td>{{carro.preco}}</td>\n              <td>{{carro.d_alt}}</td>\n              <td>imagem</td>\n              <td class=\"d-flex justify-content-around\">\n                <button class=\"btn btn-primary btn-sm\" (click)=\"preencherFormulario(carro)\">Editar</button>\n                <button class=\"btn btn-danger btn-sm\" (click)=\"deletarCarro(carro.id)\">Deletar</button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}